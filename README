# **ğŸ“œ Homework Description**
This project implements the dataplane of a router as part of a networking assignment. The goal is to handle **IPv4 routing**, **ARP protocol**, and **ICMP functionality**. The implementation was tested using tools like `ping`, `traceroute`, and `Wireshark` to ensure correctness. Below, I describe the solution and the sub-requirements that were implemented.

---

# **ğŸš€ Implemented Features**

## **1. IPv4 Routing (30p)**
### **ğŸ› ï¸ Implementation Details**
- Decremented **TTL** and recalculated the checksum.
- Checked if the packet is destined for the router or needs to be forwarded.
- Forwarded packets to the next hop based on the routing table.
- Used a **static ARP table** for initial testing.

### **âœ… Verification**
- Verified functionality using `ping` and `Wireshark`.

---

## **2. Longest Prefix Match (16p)**
### **ğŸ› ï¸ Implementation Details**
- Replaced the linear search for routing table entries with a **trie-based LPM** implementation.
- The trie efficiently matches the longest prefix for the destination IP address.
- This optimization improves performance for large routing tables.

---

## **3. ARP Protocol (33p)**
### **ğŸ› ï¸ Implementation Details**
- Implemented dynamic ARP functionality:
  - Sent **ARP requests** for unknown MAC addresses.
  - Cached **ARP replies** in the ARP table for future use.
  - Forwarded packets after receiving ARP replies.
- Implemented a **queue** to store packets while waiting for ARP replies.

### **âœ… Verification**
- Verified functionality using `arping` and `arp` commands.

### **ğŸ“ Notes**
- The ARP table entries are **permanent** for simplicity.

---

## **4. ICMP Protocol (21p)**
### **ğŸ› ï¸ Implementation Details**
- Implemented ICMP functionality:
  - Responded to **ICMP Echo Requests** (ping).
  - Sent **ICMP Time Exceeded** messages for packets with TTL â‰¤ 0.
  - Sent **ICMP Destination Unreachable** messages for packets with no matching route.

### **âœ… Verification**
- Verified functionality using `ping -t 1` and `traceroute`.

---

# **ğŸ§ª Testing and Debugging**

## **ğŸ› ï¸ Tools Used**
- **`ping`** and **`traceroute`** for testing ICMP functionality.
- **`arping`** and **`arp`** for testing ARP protocol.
- **Wireshark** for packet inspection and debugging.

## **ğŸ“ Static ARP Table**
- Used for initial testing but replaced with dynamic ARP implementation.

---

# **ğŸ“Š Sub-requirements Summary**

| **Sub-requirement**            | **Status**       |
|--------------------------------|------------------|
| **IPv4 Routing**               | âœ… Implemented   |
| **Longest Prefix Match (Trie)**| âœ… Implemented   |
| **ARP Protocol (Dynamic + Queue)** | âœ… Implemented |
| **ICMP Protocol**              | âœ… Implemented   |

---

# **ğŸ› ï¸ How to Run**

## **1. Compile the Program**
```bash
make